"use strict";function playerGame(){resetBoard(),addCellListeners(),alert("X goes first.")}function compGame(){function e(e){"checkedx"==e.target.className||"checkedy"==e.target.className||draw(e)}function l(){s?alert("You go first."):(alert("The computer goes first."),c())}function c(){var e=Math.round(8*Math.random());cells[e].click()}var s=Math.random()<.5;resetBoard(),addCellListeners(),l(),removeCellListeners();for(var a=0;a<cells.length;a++)cells[a].addEventListener("click",e)}function addCellListeners(){for(var e=0;e<cells.length;e++)cells[e].addEventListener("click",draw)}function removeCellListeners(){for(var e=0;e<cells.length;e++)cells[e].removeEventListener("click",draw)}function resetBoard(){for(var e=0;e<cells.length;e++)if(cells[e].firstChild){var l=cells[e].firstChild;cells[e].removeChild(l),cells[e].className="cell"}turns=0}function draw(e){function l(){"cell checkedx"==cells[0].className&&"cell checkedx"==cells[1].className&&"cell checkedx"==cells[2].className?s():"cell checkedx"==cells[3].className&&"cell checkedx"==cells[4].className&&"cell checkedx"==cells[5].className?s():"cell checkedx"==cells[6].className&&"cell checkedx"==cells[7].className&&"cell checkedx"==cells[8].className?s():"cell checkedx"==cells[0].className&&"cell checkedx"==cells[3].className&&"cell checkedx"==cells[6].className?s():"cell checkedx"==cells[1].className&&"cell checkedx"==cells[4].className&&"cell checkedx"==cells[7].className?s():"cell checkedx"==cells[2].className&&"cell checkedx"==cells[5].className&&"cell checkedx"==cells[8].className?s():"cell checkedx"==cells[0].className&&"cell checkedx"==cells[4].className&&"cell checkedx"==cells[8].className?s():"cell checkedx"==cells[2].className&&"cell checkedx"==cells[4].className&&"cell checkedx"==cells[6].className&&s()}function c(){"cell checkedo"==cells[0].className&&"cell checkedo"==cells[1].className&&"cell checkedo"==cells[2].className?s():"cell checkedo"==cells[3].className&&"cell checkedo"==cells[4].className&&"cell checkedo"==cells[5].className?s():"cell checkedo"==cells[6].className&&"cell checkedo"==cells[7].className&&"cell checkedo"==cells[8].className?s():"cell checkedo"==cells[0].className&&"cell checkedo"==cells[3].className&&"cell checkedo"==cells[6].className?s():"cell checkedo"==cells[1].className&&"cell checkedo"==cells[4].className&&"cell checkedo"==cells[7].className?s():"cell checkedo"==cells[2].className&&"cell checkedo"==cells[5].className&&"cell checkedo"==cells[8].className?s():"cell checkedo"==cells[0].className&&"cell checkedo"==cells[4].className&&"cell checkedo"==cells[8].className?s():"cell checkedo"==cells[2].className&&"cell checkedo"==cells[4].className&&"cell checkedo"==cells[6].className&&s()}function s(){turns%2!=0?alert("X wins! Click to play again."):alert("O wins! Click to play again."),resetBoard()}function a(){alert("Draw. Click to play again."),resetBoard()}if(turns++,turns%2!=0){var t=document.createElement("p");t.className="letter",t.appendChild(document.createTextNode("X")),e.target.appendChild(t),e.target.className+=" checkedx"}else{var d=document.createElement("p");d.className="letter",d.appendChild(document.createTextNode("O")),e.target.appendChild(d),e.target.className+=" checkedo"}e.target.removeEventListener("click",draw),turns>4&&turns%2!=0?l():turns>4&&turns%2==0&&c(),9==turns&&a()}var turns=0,cells=document.getElementsByClassName("cell"),playerButton=document.getElementById("playerButton"),compButton=document.getElementById("compButton");playerButton.addEventListener("click",playerGame),compButton.addEventListener("click",compGame);